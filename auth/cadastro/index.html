<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Cadastro</title>
    <script>
      function link() {
        window.location = "../../index.html";
      }
    </script>
    <style>
      .input-error {
        color: #ff0000; /*texto vermelho */
      }

      .campo4.input-error,
      .campo5.input-error {
        border: 2px solid #ff0000; /* borda vermelha */
      }
    </style>
  </head>

  <body>
    <header>
      <div class="logo">
        <img src="../login/img/logo.svg" alt="" onclick="link()">
      </div>
    </header>
    <main>
      <div class="container-cad">
        <div class="img-form">
          <div class="titulo-container">
            <div class="titulo">
              <h1>Alcance seu Máximo</h1>
            </div>
          </div>
          <div class="foquete">
            <img src="../login/img/foquete.png" alt="" />
          </div>
        </div>

        <div class="form-container">
          <form method="POST" action="salvar.php" onsubmit="return validarSenhas()">
            <div class="input-form">
              <!-- campo1 div -->
              
              <label for="nome">Nome:</label>
              <div class="campo2">
                <input
                type="text"
                placeholder="Digite seu nome"
                id="nome"
                name="nome"
                required
                />
                
              </div>
              
              <label for="usuario">Nome de usuário (@):</label>
              <div class="campo1">
            <input
              type="text"
              placeholder="Nome de usuario"
              id="usuario"
              name="usuario"
              required
            />
          </div>
          <label for="email">E-mail:</label>
          <div class="campo3">
            <input
              type="email"
              placeholder="Digite seu email"
              id="email"
              name="email"
              required
            />
          </div>

          <label for="senha">Senha:</label>
          <div class="campo4">
            <input
              type="password"
              placeholder="Digite sua senha"
              id="senha"
              name="senha"
              required
            />
            <img src="./svg/olho-riscado.svg" class="olho" alt="olho" id="toggleBtnSenha" onclick="togglePasswordVisibility('senha', 'toggleBtnSenha')">
          </div>
  
          <label for="confirmarSenha">Confirme a senha:</label>
          <div class="campo5">
            <input
              type="password"
              placeholder="Digite sua senha"
              id="confirmarSenha"
              name="confirmarSenha"
              required
            /> 
            <img src="./svg/olho-riscado.svg" class="olho" alt="olho" id="toggleBtnConfirmarSenha" onclick="togglePasswordVisibility('confirmarSenha', 'toggleBtnConfirmarSenha')">
          </div>
  
          <div>
            <button class="btn-login" type="submit">Registrar</button>
          </div>
        </form>
        <div class="link-log">
          <a href="../login/index.php">Já possui uma conta no Brainway? <span>Faça login.</span></a>
        </div>
      </div>
    </main>
  
    <script>
      function validarSenhas() {
      var senha = document.getElementById('senha');
      var confirmarSenha = document.getElementById('confirmarSenha');
      var campo4 = document.querySelector('.campo4');
      var campo5 = document.querySelector('.campo5');

      if (senha.value !== confirmarSenha.value) {
        // Adiciona a classe de erro aos inputs e divs
        senha.classList.add('input-error');
        confirmarSenha.classList.add('input-error');
        campo4.classList.add('input-error');
        campo5.classList.add('input-error');

        // Muda os placeholders
        senha.placeholder = 'Senhas não correspondem';
        confirmarSenha.placeholder = 'Senhas não correspondem';

        return false;
      }

      // Remove a classe de erro se as senhas coincidirem
      senha.classList.remove('input-error');
      confirmarSenha.classList.remove('input-error');
      campo4.classList.remove('input-error');
      campo5.classList.remove('input-error');

      // Restaura os placeholders originais
      senha.placeholder = 'Digite sua senha';
      confirmarSenha.placeholder = 'Digite sua senha';

      // Adiciona a classe de sucesso aos inputs e divs
      senha.classList.add('input-success');
      confirmarSenha.classList.add('input-success');
      campo4.classList.add('input-success');
      campo5.classList.add('input-success');

      return true;
    }

    function togglePasswordVisibility(fieldId, toggleBtnId) {
      var passwordField = document.getElementById(fieldId);
      var toggleBtn = document.getElementById(toggleBtnId);

      if (passwordField.type === 'password') {
        passwordField.type = 'text';
        toggleBtn.src = './svg/olho.svg';
      } else {
        passwordField.type = 'password';
        toggleBtn.src = './svg/olho-riscado.svg';
      }
    }

    document.getElementById('confirmarSenha').addEventListener('input', function () {
      validarSenhas();
    });

    </script>
  </body>
  </html>